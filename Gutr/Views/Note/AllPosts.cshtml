@model IEnumerable<Gutr.Models.NoteListItem>

@{
    ViewBag.Title = "AllPosts";
}

<h2>All Posts</h2>

@*<p>
    @Html.ActionLink("Create New", "Create")
</p>*@
@*<table class="table">*@
    @*<tr>
        <th>
            @Html.DisplayNameFor(model => model.userEmail)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.NoteId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CreatedUtc)
        </th>
        <th></th>
    </tr>*@

@foreach (var item in Model) {
    @*<tr>*@
        @*<td>*@
            @*@value = Html.DisplayFor(modelItem => item.userEmail)
            @substring = value.Substring(0, 5)*@
        @*</td>*@
        @*<td>
            @Html.DisplayFor(modelItem => item.NoteId)
        </td>*@
        <div class="post-wrapper">
    <div class="ts"><h4><a href="@Url.Action("UP","Profiles",new { userName = Html.DisplayFor(modelItem => item.userEmail) }, null)">@Html.DisplayFor(modelItem => item.userEmail)</a> says:  </h4></div>
    <div class="post-message">
        @Html.DisplayFor(modelItem => item.Title)


        @if (Html.DisplayFor(modelItem => item.Content).ToString().Length > 29)
        {
            <a href="@Html.DisplayFor(modelItem => item.Content)" target="blank">@Html.DisplayFor(modelItem => item.Content).ToString().Substring(0, 30) ~</a>

        }
        else
        {
            <a href="@Html.DisplayFor(modelItem => item.Content)" target="blank">@Html.DisplayFor(modelItem => item.Content)</a>
        }

    </div>
    <div class="ts">@Html.DisplayFor(modelItem => item.CreatedUtc).ToString().Substring(0, 21)</div>
    <div class="noteid">Post #@Html.DisplayFor(modelItem => item.NoteId)</div>

    @* @Html.ActionLink("Fav", "Index", "Favorite"),new{ANoteId = item.NoteId})*@
        <div class="ts">@Html.ActionLink("Favorite", "Favorite", "Favorite", new { id = item.NoteId }, null)</div>

    @*@using (Html.BeginForm())
        {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <div class="form-group">

                <input type="submit" value="Favorite" class="btn btn-default" style="padding: 10px" />
            </div>
        </div>
        }*@
</div>
        
        @*<td>
</td>*@
        @*This area is for editing your own posts*@
        @*<td>
            @Html.ActionLink("Edit", "Edit", new { id = item.NoteId }) |
            @Html.ActionLink("Details", "Details", new { id = item.NoteId }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.NoteId })
        </td>*@
    @*</tr>*@
}

@*</table>*@
